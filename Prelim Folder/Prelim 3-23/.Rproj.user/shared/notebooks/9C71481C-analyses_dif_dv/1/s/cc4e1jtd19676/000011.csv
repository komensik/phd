"0",""
"0","#NEXT -- testing when adding controls in to minc sequentially"
"0",""
"0","#first make no control model version"
"0","minc_base <- lm(d_incwomen_abc ~ incarc, data = raw_data_cleaned)"
"0",""
"0","for(v_inc in controls_inc[-1])"
"0","{"
"0","  f_inc <- as.formula(paste(""d_incwomen_abc ~ incarc +"", v_inc))"
"0","  fm_inc <- lm(f_inc, data = raw_data_cleaned)"
"0","  cat(v_inc, ""adjR2 ="", summary(fm_inc)$adj.r.squared-summary(minc_base)$adj.r.squared, ""\n"")"
"0","}"
"1","Republican"
"1"," "
"1","adjR2 ="
"1"," "
"1","0.03724622"
"1"," "
"1","
"
"1","Democrat"
"1"," "
"1","adjR2 ="
"1"," "
"1","0.03726761"
"1"," "
"1","
"
"1","fiscal_ideology"
"1"," "
"1","adjR2 ="
"1"," "
"1","0.08274972"
"1"," "
"1","
"
"1","social_ideology"
"1"," "
"1","adjR2 ="
"1"," "
"1","0.08378216"
"1"," "
"1","
"
"1","penalpoint"
"1"," "
"1","adjR2 ="
"1"," "
"1","0.03391408"
"1"," "
"1","
"
"1","desor_core"
"1"," "
"1","adjR2 ="
"1"," "
"1","0.3735275"
"1"," "
"1","
"
"1","fire_rare"
"1"," "
"1","adjR2 ="
"1"," "
"1","0.03859238"
"1"," "
"1","
"
"1","fire_privilege"
"1"," "
"1","adjR2 ="
"1"," "
"1","0.06587787"
"1"," "
"1","
"
"1","fire_angry"
"1"," "
"1","adjR2 ="
"1"," "
"1","0.04546497"
"1"," "
"1","
"
"1","fire_fear"
"1"," "
"1","adjR2 ="
"1"," "
"1","0.01065692"
"1"," "
"1","
"
"1","gender"
"1"," "
"1","adjR2 ="
"1"," "
"1","0.008716211"
"1"," "
"1","
"
"1","Black"
"1"," "
"1","adjR2 ="
"1"," "
"1","-0.00204744"
"1"," "
"1","
"
"1","Hispanic"
"1"," "
"1","adjR2 ="
"1"," "
"1","-0.005012881"
"1"," "
"1","
"
"1","OtherRace"
"1"," "
"1","adjR2 ="
"1"," "
"1","-0.0004379348"
"1"," "
"1","
"
"0","#semi-partial R2 for each model predictor (how much unique variance each predictor explains in the full model, controlling for all other variables)"
"0",""
"0","sp_r2 <- rsq.partial(minc, type = ""sp"")"
"0","sp_r2"
"1","$adjustment
"
"1","[1]"
"1"," FALSE"
"1","
"
"1","
"
"1","$variable
"
"1"," [1]"
"1"," ""incarc""         "
"1"," ""Republican""     "
"1"," ""Democrat""       "
"1"," ""fiscal_ideology"""
"1"," ""social_ideology"""
"1","
"
"1"," [6]"
"1"," ""penalpoint""     "
"1"," ""desor_core""     "
"1"," ""fire_rare""      "
"1"," ""fire_privilege"" "
"1"," ""fire_angry""     "
"1","
"
"1","[11]"
"1"," ""fire_fear""      "
"1"," ""gender""         "
"1"," ""Black""          "
"1"," ""Hispanic""       "
"1"," ""OtherRace""      "
"1","
"
"1","
"
"1","$partial.rsq
"
"1"," [1]"
"1"," 3.684529e-03"
"1"," 1.443496e-04"
"1"," 2.937909e-04"
"1"," 3.243668e-04"
"1"," 6.128451e-04"
"1"," 7.500791e-03"
"1"," 2.984202e-01"
"1","
"
"1"," [8]"
"1"," 5.836937e-04"
"1"," 1.030608e-03"
"1"," 1.238561e-04"
"1"," 4.019131e-05"
"1"," 8.282325e-04"
"1"," 3.492160e-04"
"1"," 2.376637e-04"
"1","
"
"1","[15]"
"1"," 5.331792e-04"
"1","
"
"1","
"
"0","#in table"
"0","sp_table <- data.frame("
"0","  variable = sp_r2$variable,"
"0","  semi_partial_R2 = sp_r2$partial.rsq"
"0",")"
"0",""
"0","# largest to smallest"
"0","sp_table <- sp_table %>%"
"0","  arrange(desc(semi_partial_R2))"
"0",""
"0","# round for display"
"0","sp_table$semi_partial_R2 <- round(sp_table$semi_partial_R2, 4)"
"0",""
"0","print(sp_table)"
