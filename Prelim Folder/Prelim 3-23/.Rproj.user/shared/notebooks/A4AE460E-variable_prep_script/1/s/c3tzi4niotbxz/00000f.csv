"0",""
"0","# Step 1: Create the pattern-to-label lookup"
"0","pattern_lookup <- tibble::tibble("
"0","  contact_pattern = c("
"0","    ""100000"", ""100001"", ""101001"", ""101000"","
"0","    ""010000"", ""010001"", ""011001"", ""011000"","
"0","    ""001100"", ""001101"", ""000100"", ""000101"","
"0","    ""110000"", ""110001"", ""111001"", ""111000"","
"0","    ""100100"", ""100101"", ""101100"", ""101101"","
"0","    ""100010"", ""101011"", ""100011"", ""101010"","
"0","    ""010100"", ""010101"", ""011101"", ""011100"","
"0","    ""110100"", ""110101"", ""111101"","
"0","    ""010110"", ""011111"", ""011110"", ""010111"","
"0","    ""110110"", ""111110"", ""110111"", ""111111"""
"0","  ),"
"0","  label = c("
"0","    rep(""Incarcerated Only"", 4),"
"0","    rep(""Knows Incarcerated Only"", 4),"
"0","    rep(""Victim Only"", 4),"
"0","    rep(""Inc & Knows Inc"", 4),"
"0","    rep(""Inc & Vict"", 4),"
"0","    rep(""Inc & Knows Vict"", 4),"
"0","    rep(""Knows Inc & Vict"", 4),"
"0","    rep(""Inc, Knows Inc, Vict"", 3),"
"0","    rep(""Knows Inc, Vict, Knows Vict"", 4),"
"0","    rep(""All"", 4)"
"0","  )"
"0",")"
"0",""
"0","# Step 2: Join this to dataset and count"
"0","pattern_counts <- raw_data_cleaned %>%"
"0","  inner_join(pattern_lookup, by = ""contact_pattern"") %>%"
"0","  count(label, contact_pattern, name = ""count"") %>%"
"0","  arrange(label, desc(count))"
"0",""
"0","# View the result"
"0","print(pattern_counts)"
