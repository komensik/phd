"0","names(mapping)"
"1","[1] ""Target""            ""target_slug""       ""Deserving Group A"" ""Deserving Group B"" ""Deserving Group C""
"
"0","# Create composite deservingness variables from the correct block column only"
"0","for (i in 1:nrow(mapping)) {"
"0","  new_var <- mapping$target_slug[i]"
"0","  var_a <- mapping$`Deserving Group A`[i]"
"0","  var_b <- mapping$`Deserving Group B`[i]"
"0","  var_c <- mapping$`Deserving Group C`[i]"
"0",""
"0","  raw_data_cleaned[[new_var]] <- case_when("
"0","    raw_data_cleaned$block == ""A"" ~ raw_data_cleaned[[var_a]],"
"0","    raw_data_cleaned$block == ""B"" ~ raw_data_cleaned[[var_b]],"
"0","    raw_data_cleaned$block == ""C"" ~ raw_data_cleaned[[var_c]],"
"0","    TRUE ~ NA_real_"
"0","  )"
"0","}"
